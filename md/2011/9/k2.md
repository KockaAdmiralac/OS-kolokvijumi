2011/septembar/SI, IR Kolokvijum 2 - Septembar 2011.doc
--------------------------------------------------------------------------------


1/  5

Elektrotehnički fakultet u Beogradu
Katedra za računarsku tehniku i informatiku

Predmet: Operativni sistemi 1 (IR2OS1, SI2OS1)
Nastavnik: prof . dr Dragan Milićev
Odsek: Računarska tehnika i informatika, Softversko inženjerstvo
Kolokvijum: Drugi - Nadoknada, Septembar 2011.
Datum: 2.9.2011.
Drugi kolokvijum iz Operativnih sistema 1 -  Nadoknada
Kandidat:
 _____________________________________________________________
Broj indeksa: ________________  E-mail:______________________________________

Kolokvijum traje 1,5 sat. Dozvoljeno je korišćenje literature.
Zadatak 1 _______________/10   Zadatak 3 _______________/10
Zadatak 2 _______________/10   Zadatak 4 _______________/10

Ukupno: __________/40 = __________% = _________/15
Napomena: Ukoliko u zadatku nešto nije dovoljno precizno definisano, student treba da
uvede razumnu pretpostavku, da je uokviri (da bi se lakše prepoznala prilikom ocenjivanja) i
da  nastavi  da  izgrađuje  preostali  deo  svog  odgovora  na  temeljima  uvedene  pretpostavke.
Ocenjivanje unutar potpitanja je po sistemu "sve ili ništa", odnosno nema parcijalnih poena.
Kod pitanja koja imaju ponuđene odgovore treba samo zaokružiti jedan odgovor. Na ostala
pitanja odgovarati čitko, kratko i precizno.


2/  5
1. (10 poena)
Korišćenjem standardnih brojačkih semafora rešiti problem utrkivanja (engl. race condition) u
kodu  datog   programa  koji  simulira  rad  policijskog  helikoptera  i  automobila,  a  koji  je
objašnjen na predavanjima.
type Coord = record {
  x : integer;
  y : integer;
};

var sharedCoord : Coord;

process Helicopter
var nextCoord : Coord;
begin
  loop
    computeNextCoord(nextCoord);
    sharedCoord := nextCoord;
  end;
end;

process PoliceCar
begin
  loop
    moveTo(sharedCoord);
  end;
end;
Rešenje:

3/  5
2. (10 poena)
Izmeniti datu implementaciju operacije wait na semaforu u školskom jezru tako da, pre nego
što odmah blokira pozivajuću nit ukoliko je semafor zatvoren, najpre pokuša da uposleno
sačeka, ali ograničeno, ponavljajući petlju čekanja najviše
SemWaitLimit puta. Ostatak klase
Semaphore se ne menja.
void Semaphore::wait () {
  lock(lck);
  if (--val<0)
    block();
  unlock(lck);
}
Rešenje:

4/  5
3. (10 poena)
Klasa
GeoRegion, čiji  je  interfejs  dat  u  nastavku, apstrahuje  geografski  region  i
implementirana je u potpunosti. Objekti ove klase zauzimaju mnogo prostora u memoriji, pa
se  mogu  učitavati  po  potrebi,  dinamički.  Ovo  učitavanje  obavlja  statička  operacija
GeoRegion::load, pri čemu se objekat identifikuje datim nazivom geografskog regiona (niz
znakova). Ostale operacije ove klase vraćaju vrednosti nekih svojstava geografskog regiona.
Potrebno je u potpunosti implementirati klasu GeoRegionProxy čiji je intefejs dat u nastavku.
Objekti  ove  klase  služe  kao  posrednici  (proxy)  do  objekata  klase
GeoRegion,  pri  čemu
pružaju  isti  interfejs  kao  i  „originali“,  s  tim  da  skrivaju  detalje  implementacije  i  tehniku
dinamičkog  učitavanja  od  svojih  korisnika.  Korisnici  klase GeoRegionProxy vide  njene
objekte na sasvim uobičajen način, mogu ih kreirati datim konstruktorom i pozivati date
operacije  interfejsa, ne  znajući  da odgovarajuća   struktura podataka možda  nije  učitana  u
memoriju.
class GeoRegion {
public:
  static GeoRegion* load (char* regionName);
  double getSurface ();
  double getHighestPeak ();
};
class GeoRegionProxy {
public:
  GeoRegionProxy (char* regionName);
  double getSurface ();
  double getHighestPeak ();
};
Rešenje:

5/  5
4. (10 poena)
Neki  sistem  primenjuje  kontinualnu  alokaciju  memorije  sa best-fit algoritmom. Radi
efikasnijeg  pronalaženja  najpovoljnijeg  dela  memorije,  sistem  održava  binarno  stablo
slobodnih fragmenata memorije, pri čemu svaki čvor ovog    binarnog stabla predstavlja jedan
slobodni  fragment,  u  levom  podstablu  su  manji,  a  u  desnom  veći  fragmenti.  Na  slici  je
prikazano  stanje  ovog  stabla u  datom  trenutku  (u  čvor  je  upisana  veličina  fragmenta  u
jedinicama  alokacije).  Prikazati  stanje  ovog  stabla  nakon  alokacije  memorije  veličine  37
jedinica.

Rešenje:
32
24
8 28
26
48
36 56
34 38
