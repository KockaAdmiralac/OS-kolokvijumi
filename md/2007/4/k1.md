2007/april/SI Kolokvijum 1 - April 2007.doc
--------------------------------------------------------------------------------


1/  5 
 
Elektrotehnički fakultet u Beogradu 
Katedra za računarsku tehniku i informatiku 
 
Predmet: Operativni sistemi 1 (SI  2OS1) 
Nastavnik: doc. dr Dragan Milićev 
Odsek: Softversko inženjerstvo 
Kolokvijum: Prvi, April 2007. 
Datum: 15.4.2007. 
Prvi kolokvijum iz Operativnih sistema 1 
Kandidat:
 _____________________________________________________________ 
Broj indeksa: ________________  E-mail:______________________________________ 
 
Kolokvijum traje 2 sata. Dozvoljeno je korišćenje literature. 
Zadatak 1 _______________/10   Zadatak 4 _______________/10 
Zadatak 2 _______________/10   Zadatak 5 _______________/10 
Zadatak 3 _______________/10     
 
Ukupno: __________/50 = __________% 
Napomena: Ukoliko u zadatku nešto nije dovoljno precizno definisano, student treba da 
uvede razumnu pretpostavku, da je uokviri (da bi se lakše prepoznala prilikom ocenjivanja) i 
da  nastavi da  izgrađuje  preostali  deo  svog  odgovora  na  temeljima  uvedene  pretpostavke. 
Ocenjivanje unutar potpitanja je po sistemu "sve ili ništa", odnosno nema parcijalnih poena. 
Kod pitanja koja imaju ponuđene odgovore treba samo zaokružiti jedan odgovor. Na ostala 
pitanja odgovarati čitko, kratko i precizno. 
 

2/  5 
1. (10 poena) 
Predložiti  interfejs 
DMACtrl  i specifikovati ga  apstraktnom  klasom  na  jeziku  C++.  Ovaj 
interfejs treba da delovima operativnog sistema koji upravljaju uređajima obezbedi uniforman 
pristup različitim vrstama DMA kontrolera, tako što im na isti način zadaje operacije prenosa 
bloka  podataka  iz  ili  u  memoriju,  kao  i  način  obaveštavanja  o  završenom  prenosu  i 
eventualnoj grešci. Obaveštavanje o završenoj operaciji može da bude prozivanjem (polling) 
ili prekidom sa zadatim ulazom. 
 
 
 
 
 
 
 
 
 
 
 
 
 
2. (10 poena) 
Neki  računar podrž   ava straničnu  organizaciju virtuelne memorije,  pri  čemu  je  virtuelni 
adresni prostor veličine 16GB,  adresibilna jedinica je 32-bitna reč, a fizički adresni prostor je 
veličine 1GB. Stranica je veličine 1KB. Jedan ulaz u tabeli preslikavanja stranica (PMT) 
zauzima jednu reč, s tim da najviši bit ukazuje na to da li je stranica u memoriji ili ne, a 
najniži biti predstavljaju broj okvira u fizičkoj memoriji u koji se stranica preslikava. 
a)(5) Prikazati logičku strukturu virtuelne i fizičke adrese i označiti širinu svakog polja. 
 
 
 
b)(5) Na jeziku C napisati kod funkcije 
void setPageDescr(unsigned int* pmtp, unsigned int page, unsigned int 
frame); 
koja u tabelu na čiji početak ukazuje dati pokazivač pmtp, za stranicu sa datim brojem page, 
upisuje deskriptor tako da se ta stranica preslikava u okvir sa datim brojem frame. 
 
 
 
 
 
 
 
 
 
 

3/  5 
3. (10 poena) 
Neki  sistem  podržava  segmentno-straničnu  organizaciju  virtuelne  memorije. Za  procese 
kreirane nad istim programom moguće je uštedeti na potrošnji fizičke memorije tako što se 
programski kod tog programa u fizičku memoriju smešta samo na jedno mesto, pri čemu se 
okviri u kojima se nalaze stranice koje pripadaju segmentima koji sadrže samo programski 
kod fizički dele između ovih procesa (zajednički su). 
a) Precizno objasniti kako se ovo deljenje stranica može implementirati. 
b) Čija  je odgovornost da  obezbedi ovo  deljenje  stranica,  hardvera  ili  operativnog 
sistema? 
c) Precizno  objasniti  zašto  ovakvo  deljenje  nije  moguće  za  stranice  koje  pripadaju 
segmentima koji sadrže stek. 

4/  5 
4. (10 poena) 
U jezgru nekog operativnog sistema definisane su sledeće strukture podataka: 
typedef unsigned int PID; 
#define MaxProc  ... // Max number of processes 
struct PCB { 
  int sp;    // Saved stack pointer 
  PID next;        // Next PCB in the Ready or a waiting list 
  ... 
}; 
PCB* allProcesses[MaxProc]; // Maps a PID to a PCB* 
PID running; // The running process 
PID ready;   // Head of Ready list 
Korišćenjem  ovih  struktura,  po  uzoru  na  funkciju  datu  na  predavanjima, na  jeziku  C i 
asembleru zamišljenog procesora napisati telo funkcije 
yield(PCB* current, PCB* next) 
koja   vrši promenu konteksta sa procesa current na proces next; ova funkcija služi samo za 
realizaciju drugih operacija jezgra i poziva se samo iz koda jezgra. Korišćenjem te funkcije, 
na jeziku C napisati tela sledećih funkcija: 
• 
suspend(): suspenduje (blokira) izvršavanje pozivajućeg procesa sve dok ga neki 
drugi proces ne „probudi“ pomoću resume(); 
• resume(PID pid): „budi“ (deblokira) izvršavanje procesa koji je zadat argumentom. 

5/  5 
5. (10 poena) 
Dat je sledeći program: 
#include <stdio.h> 
#define N 3 
int pid[N]; 
 
void main () { 
  int i; 
  for (i=0; i<N; i++) pid[i]=0; 
  for (i=0; i<N; i++) pid[i]=fork(); 
  for (i=0; i<N; i++) printf(“%d ”,pid[i]); 
} 
Pod pretpostavkom da su svi sistemski pozivi uspeli, koliko ukupno nula ispisuju svi procesi 
kreirani od strane jednog procesa nad ovim programom? Odgovor obrazložiti. 